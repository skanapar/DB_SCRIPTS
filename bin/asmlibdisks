#!/bin/ksh
for i in `/etc/init.d/oracleasm listdisks`; do
  v_asmdisk=`/etc/init.d/oracleasm querydisk -d $i | sort | awk  '{print $2}'`
  v_minor=`/etc/init.d/oracleasm querydisk -d $i | awk -F[ '{print $2}'| awk -F] '{print $1}' | awk '{print $1}'`
  v_major=`/etc/init.d/oracleasm querydisk -d $i | awk -F[ '{print $2}'| awk -F] '{print $1}' | awk '{print $2}'`
  v_device=`ls -la /dev | grep -v uio | grep -P " ${v_minor}\s+${v_major} " | awk '{print $10}'`
  # echo "ASM disk $v_asmdisk based on /dev/$v_device  [$v_minor $v_major]"
  printf "ASM disk %-15s => /dev/%s [%s %s]\n" $v_asmdisk $v_device $v_minor $v_major
done

exit

